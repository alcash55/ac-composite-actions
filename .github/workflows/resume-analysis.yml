name: Resume Analysis
on:
  workflow_call:
    inputs:
      ORG:
        description: "GitHub owner and repository name (e.g., 'username/repository')"
        required: true
        type: string
      BRANCH:
        description: "Name of the branch from the calling repository"
        required: true
        type: string
      PR_NUMBER:
        description: "The number that identifies the pull request"
        required: true
        type: number
    secrets:
      GH_TOKEN:
        description: "The token that identifies the actor who triggered the workflow"
        required: true

jobs:
  analysis:
    runs-on: ubuntu-latest
    steps:
      # - name: Get Secrets if Needed
      #   id: get_secrets
      #   run: echo secretes

      - name: üîç Get Diff
        id: diff
        uses: alcash55/ac-composite-actions/diff@main
        with:
          GITHUB_ORG: ${{ inputs.ORG }}
          PR_NUMBER: ${{ inputs.PR_NUMBER }}
          GH_TOKEN: ${{ secrets.GH_TOKEN }}

      - name: üìù Markdown Checks
        id: md_checks
        uses: alcash55/ac-composite-actions/markdown-checks@main
        with:
          DIFF: ${{ steps.diff.outputs.DIFF }}

      # - name: ‚ûï Create Message
      #   id: create_msg
      #   uses: alcash55/ac-composite-actions/format-message@main

      # - name: üîî Notifications
      #   id: notify
      #   uses: alcash55/ac-composite-actions/notifications@main
      #   with:
      #     GITHUB_ORG: ${{ inputs.ORG }}
      #     PR_NUMBER: ${{ inputs.PR_NUMBER }}
      #     GH_TOKEN: ${{ secrets.GH_TOKEN }}
      #     MESSAGE_TYPE: "github"
